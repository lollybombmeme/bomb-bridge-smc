# Bridge smart contract

## Usage

-   Lock Tokens: Users lock tokens in the pool smart contract on the source chain to initiate the bridging process.
-   Bridge Tokens: Once locked, tokens are minted on the destination chain and can be used accordingly.
-   Reverse Bridge: Tokens burnt from the destination chain and released at the source chain, completing the reverse bridging process.
-   Claim Bridged Tokens: Users can claim tokens on the destination chain using signatures generated by a guard service, ensuring secure and authorized token transfer.

## Deployment step:

**1. Prepare**

-   Create new .env file, copy fields inside .env.ex into .env file.
-   Fill fields with proper value
-   Update token name, token symbol in /scripts/deploy.ts line 8,9
-   Update signer thresh hold if needed in /scripts/deploy.ts line 12. Default value is round up length of signer / 2

**2. Deploy**

-   Deploy Token, Bridge pool, Bridge smart contract

```shell
npx hardhat run scripts/deploys.ts --network <network name>
```

-   Config bridge

```shell
npx hardhat run scripts/bridgeConfig.ts --network <network name>
```

**3. Optional scripts**

-   Mint token

```shell
npx hardhat run scripts/mint.ts --network <network name>
```

-   Bridge token

```shell
npx hardhat run scripts/bridge --network <network name>
```

**4. Verify scripts**

-   Verify Bridge Contract

```shell
npx hardhat verify --constructor-args bridgeArgs.ts <Bridge contract address> --network <network>
```

-   Verify Pool Contract

```shell
npx hardhat verify --constructor-args poolArgs.ts <Pool contract address> --network <network>
```
